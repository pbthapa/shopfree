package com.demo.shopfree.util;

import java.util.Properties;

import javax.naming.Context;
import javax.naming.InitialContext;

public class WebUtil {
	
	
	public static<E> E getBean(String jndi) {
        Properties properties = new Properties();
        properties.put(Context.INITIAL_CONTEXT_FACTORY, "org.jnp.interfaces.NamingContextFactory");
        properties.put(Context.URL_PKG_PREFIXES, "org.jboss.naming:org.jnp.interfaces");
        properties.put(Context.PROVIDER_URL, "localhost:1099");
        try {
            InitialContext context = new InitialContext(properties);
            return (E) context.lookup(jndi+"/remote");
        } catch (Exception x) {
        	x.printStackTrace();
            return null;
        }
	}

}
